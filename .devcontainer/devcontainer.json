{
    "build": {
        "dockerfile": "Dockerfile"
    },
    "updateContentCommand": {
        // Using a shell for `nproc` usage.
        "python": "./configure --config-cache --with-pydebug && make -s -j `nproc`",
        "docs": [
            "make",
            "--directory",
            "Doc",
            "venv",
            "html"
        ]
    },
    "customizations": {
        "vscode": {
            "extensions": [
				"brettcannon.zephyr-asdl",
				"maelvalais.autoconf",
                "ms-vscode.cpptools",
				"ms-vscode.live-server"
                // https://github.com/microsoft/vscode-python/issues/18073
                // "ms-python.python"
			],
            "settings": {
                "C_Cpp.default.cStandard": "c11",
                "C_Cpp.default.defines": [
                    "Py_BUILD_CORE"
                ],
                // https://github.com/microsoft/vscode-cpptools/issues/10732
                "C_Cpp.errorSquiggles": "enabled",
                "editor.insertSpaces": true,
                "editor.rulers": [
                    80
                ],
                "editor.tabSize": 4,
                "editor.trimAutoWhitespace": true,
                "files.associations": {
                    "*.h": "c"
                },
                "files.encoding": "utf8",
                "files.eol": "\n",
                "files.insertFinalNewline": true,
                "files.trimTrailingWhitespace": true,
                "python.analysis.diagnosticSeverityOverrides": {
                    // Complains about shadowing the stdlib w/ the stdlib.
                    "reportShadowedImports": "none",
                    // Dodesn't like _frozen_importlib.
                    "reportMissingImports": "none"
                },
                "python.analysis.extraPaths": [
                    "Lib"
                ],
                "python.defaultInterpreterPath": "./python",
                "[restructuredtext]": {
                    "editor.tabSize": 3
                }
            }
        }
    }
}
