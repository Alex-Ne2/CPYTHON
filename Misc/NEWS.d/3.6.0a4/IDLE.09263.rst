Issue #27621: Put query response validation error messages in the query
box itself instead of in a separate massagebox.  Redo tests to match.
Add Mac OSX refinements.  Original patch by Mark Roseman.