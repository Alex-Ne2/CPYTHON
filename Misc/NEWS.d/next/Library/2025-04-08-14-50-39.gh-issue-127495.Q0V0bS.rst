In PyREPL, append a new entry to the ``PYTHON_HISTORY`` file *before* every
statement was executed.  This should preserve command-line history after
interpreter is terminated.  Patch by Sergey B Kirpichev.
