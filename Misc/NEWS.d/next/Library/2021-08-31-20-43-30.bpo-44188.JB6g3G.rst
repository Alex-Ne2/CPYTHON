Fix ThreadPoolExecutor unbalanced semaphore count.
