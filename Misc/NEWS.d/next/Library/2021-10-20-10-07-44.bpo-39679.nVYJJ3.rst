Fix bug in :class:`functools.singledispatchmethod` that caused it to fail
when attempting to register classmethods or staticmethods using type
annotations. Patch contributed by Alex Waygood.
