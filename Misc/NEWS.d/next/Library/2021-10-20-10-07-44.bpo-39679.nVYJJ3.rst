Fix bug in :class:`functools.singledispatchmethod` that caused it to fail
when attempting to register :func:`classmethod`s or :func:`staticmethod`s
using type annotations. Patch contributed by Alex Waygood.
