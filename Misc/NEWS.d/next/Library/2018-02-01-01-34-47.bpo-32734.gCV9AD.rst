Fixed ``asyncio.Lock()`` safety issue which allowed acquiring and locking
the same lock multiple times. Patch by Bar Harel.
