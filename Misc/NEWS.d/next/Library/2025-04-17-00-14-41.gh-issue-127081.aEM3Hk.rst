Fix libc thread safety issues with :mod:`socket` (replace ``getservbyname``,
``getservbyport``, ``getprotobyname`` with ``*_r`` re-entrant versions),
:mod:`pwd` (lock access to ``getpwall``), :mod:`dbm` (perform stateful
operations in critical sections), and :mod:`os` (replace ``getlogin`` with
``getlogin_r`` re-entrant version).
