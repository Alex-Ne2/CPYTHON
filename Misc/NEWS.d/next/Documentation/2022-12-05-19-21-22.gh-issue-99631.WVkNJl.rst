Shelve module accepts custom_dumps and custom_loads functions.
