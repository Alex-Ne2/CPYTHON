Convert :mod:`array` to use heap types, and establish a global state for
these.
