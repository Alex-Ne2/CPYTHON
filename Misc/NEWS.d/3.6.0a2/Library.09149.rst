Issue #21776: distutils.upload now correctly handles HTTPError.
Initial patch by Claudiu Popa.